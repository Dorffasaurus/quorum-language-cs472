use Libraries.Testing.Test
use Libraries.Containers.HashTable

/* Max Posterior test */

// TestFindClassWithMaxPosterior inherits Test class
class TestFindClassWithMaxPosterior is Test
    action Start
        // Create a BayesianMultinomialClassifier and a BayesianModel
        BayesianMultinomialClassifier classifier
        BayesianModel model
        classifier:Initialize(model)

        // create hash table of posteriors for testing
        HashTable<text, number> posteriors
        posteriors:Add("Class1", 0.2)
        posteriors:Add("Class2", 0.3)
        posteriors:Add("Class3", 0.5)

        // get result from max posterior function
        text result = classifier:FindClassWithMaxPosterior(posteriors)

        // check and output result via text parameters
        output ("checking results of Max Posterior ...")
        output ("CHECK result == Class3")
        output Check(result, "Class3")
        
    end
end

// TODO put this in a separate file with all tests

//class Main
//    action Main
//        TestFindClassWithMaxPosterior test
//        Tester tester
//
//        // Add the test to the tester
//        tester:Add(test)
//
//        // Run the tests
//        tester:Test()
//    end
//end
